{"component":"module.exports =\nwebpackJsonp([2],{\n\n/***/ 187:\n/***/ (function(module, exports, __webpack_require__) {\n\n// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\n__webpack_require__(256);\nmodule.exports = self.fetch.bind(self);\n\n\n/***/ }),\n\n/***/ 261:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process, __resourceQuery) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = __webpack_require__(57);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(51);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = __webpack_require__(11);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(9);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(10);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(14);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(13);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(5);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _store = __webpack_require__(240);\n\nvar _nextReduxWrapper = __webpack_require__(213);\n\nvar _nextReduxWrapper2 = _interopRequireDefault(_nextReduxWrapper);\n\nvar _isomorphicFetch = __webpack_require__(187);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _reactNoSsr = __webpack_require__(583);\n\nvar _reactNoSsr2 = _interopRequireDefault(_reactNoSsr);\n\nvar _Counter = __webpack_require__(576);\n\nvar _Counter2 = _interopRequireDefault(_Counter);\n\nvar _Star = __webpack_require__(578);\n\nvar _Star2 = _interopRequireDefault(_Star);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MainPage = function (_Component) {\n  (0, _inherits3.default)(MainPage, _Component);\n\n  function MainPage() {\n    (0, _classCallCheck3.default)(this, MainPage);\n\n    return (0, _possibleConstructorReturn3.default)(this, (MainPage.__proto__ || (0, _getPrototypeOf2.default)(MainPage)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(MainPage, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var dispatch = this.props.dispatch;\n    }\n  }, {\n    key: 'increase',\n    value: function increase() {\n      this.props.dispatch({\n        type: 'INC',\n        payload: 1\n      });\n    }\n  }, {\n    key: 'decrease',\n    value: function decrease() {\n      this.props.dispatch({\n        type: 'INC',\n        payload: -1\n      });\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick() {\n      console.log('handle');\n      this.props.dispatch({\n        type: 'INC',\n        payload: 3\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          counter = _props.counter,\n          isServer = _props.isServer;\n\n      return _react2.default.createElement('div', { className: isServer }, _react2.default.createElement('div', { onClick: this.handleClick.bind(this) }, 'aaaaa'), _react2.default.createElement(_reactNoSsr2.default, { onSSR: null }, _react2.default.createElement(_Counter2.default, {\n        increase: this.increase.bind(this),\n        decrease: this.decrease.bind(this),\n        counter: counter })), _react2.default.createElement(_Star2.default, null));\n    }\n  }], [{\n    key: 'getInitialProps',\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(_ref2) {\n        var store = _ref2.store,\n            isServer = _ref2.isServer;\n        var res, json;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0, _isomorphicFetch2.default)('https://api.github.com/repos/developit/preact');\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                json = _context.sent;\n\n                store.subscribe(function () {\n                  console.log(store.getState());\n                });\n\n                return _context.abrupt('return', Immutable.fromJS({\n                  isServer: isServer,\n                  counter: 0,\n                  stars: json.stargazers_count || 12\n                }));\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getInitialProps(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return MainPage;\n}(_react.Component);\n\nexports.default = (0, _nextReduxWrapper2.default)(_store.initStore)(MainPage);\n\n ;(function register() { /* react-hot-loader/webpack */ if (process.env.NODE_ENV !== 'production') { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/overkazaf/Desktop/codes/git/playGround/IntelliForm/pages/index.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/overkazaf/Desktop/codes/git/playGround/IntelliForm/pages/index.js\"); } } })();\n    (function (Component, route) {\n      if (false) return\n      if (false) return\n\n      var qs = __webpack_require__(47)\n      var params = qs.parse(__resourceQuery.slice(1))\n      if (params.entry == null) return\n\n      module.hot.accept()\n      Component.__route = route\n\n      if (module.hot.status() === 'idle') return\n\n      var components = next.router.components\n      for (var r in components) {\n        if (!components.hasOwnProperty(r)) continue\n\n        if (components[r].Component.__route === route) {\n          next.router.update(r, Component)\n        }\n      }\n    })(module.exports.default || module.exports, \"/\")\n  \n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), \"?entry\"))\n\n/***/ }),\n\n/***/ 576:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(11);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(9);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(10);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(14);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(13);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(5);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(68);\n\nvar _immutable = __webpack_require__(37);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Counter = function (_Component) {\n  (0, _inherits3.default)(Counter, _Component);\n\n  function Counter() {\n    (0, _classCallCheck3.default)(this, Counter);\n\n    return (0, _possibleConstructorReturn3.default)(this, (Counter.__proto__ || (0, _getPrototypeOf2.default)(Counter)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(Counter, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          increase = _props.increase,\n          decrease = _props.decrease,\n          counter = _props.counter;\n\n      return _react2.default.createElement('div', { className: 'm-counter' }, _react2.default.createElement('span', { onClick: increase, className: 'btn' }, ' + '), _react2.default.createElement('span', null, ' ', counter, ' '), _react2.default.createElement('span', { onClick: decrease, className: 'btn' }, ' - '));\n    }\n  }]);\n\n  return Counter;\n}(_react.Component);\n\nvar mapStateToProps = function mapStateToProps($$state, ownProps) {\n  return $$state.get('counterReducer').toJS();\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(Counter);\n\n ;(function register() { /* react-hot-loader/webpack */ if (process.env.NODE_ENV !== 'production') { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/overkazaf/Desktop/codes/git/playGround/IntelliForm/components/Counter.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/overkazaf/Desktop/codes/git/playGround/IntelliForm/components/Counter.js\"); } } })();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n\n/***/ 578:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(11);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(9);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(10);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(14);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(13);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(5);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _isomorphicFetch = __webpack_require__(187);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _reactRedux = __webpack_require__(68);\n\nvar _immutable = __webpack_require__(37);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Star = function (_Component) {\n  (0, _inherits3.default)(Star, _Component);\n\n  function Star() {\n    (0, _classCallCheck3.default)(this, Star);\n\n    return (0, _possibleConstructorReturn3.default)(this, (Star.__proto__ || (0, _getPrototypeOf2.default)(Star)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(Star, [{\n    key: 'handleClick',\n    value: function handleClick(type) {\n      this.props.dispatch({\n        type: 'UPDATE',\n        payload: 3\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('div', { className: 'm-star' }, _react2.default.createElement('div', { onClick: this.handleClick.bind(this) }, '\\u70B9\\u6211'), _react2.default.createElement('span', null, 'Next.js has ', this.props.stars, ' \\u2B50\\uFE0F'));\n    }\n  }]);\n\n  return Star;\n}(_react.Component);\n\nvar mapStateToProps = function mapStateToProps($$state) {\n  return $$state.get('starReducer').toJS();\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(Star);\n\n ;(function register() { /* react-hot-loader/webpack */ if (process.env.NODE_ENV !== 'production') { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/overkazaf/Desktop/codes/git/playGround/IntelliForm/components/Star/index.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/overkazaf/Desktop/codes/git/playGround/IntelliForm/components/Star/index.js\"); } } })();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n\n/***/ 582:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(11);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(9);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(10);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(14);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(13);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(5);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DefaultOnSSR = function DefaultOnSSR() {\n  return _react2.default.createElement('span', null);\n};\n\nvar NoSSR = function (_React$Component) {\n  (0, _inherits3.default)(NoSSR, _React$Component);\n\n  function NoSSR() {\n    var _Object$getPrototypeO;\n\n    (0, _classCallCheck3.default)(this, NoSSR);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (_Object$getPrototypeO = (0, _getPrototypeOf2.default)(NoSSR)).call.apply(_Object$getPrototypeO, [this].concat(args)));\n\n    _this.state = {\n      canRender: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(NoSSR, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setState({ canRender: true });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props;\n      var children = _props.children;\n      var _props$onSSR = _props.onSSR;\n      var onSSR = _props$onSSR === undefined ? _react2.default.createElement(DefaultOnSSR, null) : _props$onSSR;\n      var canRender = this.state.canRender;\n\n\n      return canRender ? children : onSSR;\n    }\n  }]);\n  return NoSSR;\n}(_react2.default.Component);\n\nexports.default = NoSSR;\n\n/***/ }),\n\n/***/ 583:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(582);\n\n/***/ }),\n\n/***/ 638:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(33);\nmodule.exports = __webpack_require__(261);\n\n\n/***/ })\n\n},[638]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanM/OWQ2OTc2MiIsIndlYnBhY2s6Ly8vLi9wYWdlcz85ZDY5NzYyIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQ291bnRlci5qcz85ZDY5NzYyIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvU3Rhci9pbmRleC5qcz85ZDY5NzYyIiwid2VicGFjazovLy8uL34vcmVhY3Qtbm8tc3NyL2Rpc3QvaW5kZXguanM/OWQ2OTc2MiIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LW5vLXNzci9pbmRleC5qcz85ZDY5NzYyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0xnQjs7OztBQUNVOztBQUNuQjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFYTs7OztBQUNIOzs7Ozs7SUFFWDs7Ozs7Ozs7Ozs7d0NBaUJnQjtVQUNaLFdBQWEsS0FBSyxNQUN6Qjs7OzsrQkFHQztXQUFLLE1BQU07Y0FFVDtpQkFFSDtBQUhHOzs7OytCQU1GO1dBQUssTUFBTTtjQUVUO2lCQUFTLENBRVo7QUFIRzs7OztrQ0FNRjtjQUFRLElBQ1I7V0FBSyxNQUFNO2NBRVQ7aUJBRUg7QUFIRzs7Ozs2QkFLSzttQkFLSCxLQUFLO1VBRlA7VUFDQSxrQkFHRjs7YUFDRSx1Q0FBSyxXQUNILG1EQUFLLFNBQVMsS0FBSyxZQUFZLEtBQUssU0FDcEMsMEJBQUMsc0NBQU0sT0FDTCx3QkFBQztrQkFDUyxLQUFLLFNBQVMsS0FDeEI7a0JBQVUsS0FBSyxTQUFTLEtBQ3hCO2lCQUdGLE9BTEUsc0JBS0QsOEJBR047Ozs7OztZQTlEK0I7WUFBTzs7Ozs7Ozt1QkFFbkIsK0JBQU07O21CQUFsQjs7O3VCQUNhLElBQUk7O21CQUFqQjtnQ0FFTjs7c0JBQU0sVUFBVSxZQUNkOzBCQUFRLElBQUksTUFDYjtBQUZEOzsyREFJaUI7NEJBRWY7MkJBQ0E7eUJBQU8sS0FBSyxvQkFBb0I7QUFGaEMsaUJBREs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3RFg7O2tCQUF5QixrREFBVyxVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzRTNCOzs7O0FBQ0E7O0FBQ0Y7Ozs7OztJQUVEOzs7Ozs7Ozs7Ozs2QkFFTTttQkFDOEIsS0FBSztVQUFyQztVQUFVO1VBQVUsaUJBRTFCOzthQUNFLHVDQUFLLFdBQ0gsdURBQU0sU0FBUyxVQUFVLFdBQVUsU0FDbkMsb0RBQVEsS0FBUixTQUNBLDhDQUFNLFNBQVMsVUFBVSxXQUFVLFNBR3hDOzs7OztBQVptQjs7QUFldEIsSUFBTSxrQkFBa0IseUJBQUMsU0FBUyxVQUNoQztTQUFPLFFBQVEsSUFBSSxrQkFDcEI7QUFFRDs7a0JBQWUseUJBQVEsaUJBQWlCLFM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2Qi9COzs7O0FBQ0Y7Ozs7QUFDRTs7QUFDRjs7Ozs7O0lBRUQ7Ozs7Ozs7Ozs7O2dDQUVRLE1BQ1Y7V0FBSyxNQUFNO2NBRVQ7aUJBRUg7QUFIRzs7Ozs2QkFNRjthQUNFLHVDQUFLLFdBQ0gsbURBQUssU0FBUyxLQUFLLFlBQVksS0FBSyxTQUdwQyw2REFBbUIscUJBQUssTUFBTSxPQUduQzs7Ozs7QUFsQmdCOztBQXFCbkIsSUFBTSxrQkFBa0IseUJBQUMsU0FDckI7U0FBTyxRQUFRLElBQUksZUFDdEI7QUFFRDs7a0JBQWUseUJBQVEsaUJBQWlCLE07Ozs7Ozs7Ozs7O0FDOUJ4Qzs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxtRUFBbUUsYUFBYTtBQUNoRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtCQUFrQjtBQUN2QztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQsd0I7Ozs7Ozs7QUM3RUEsMEMiLCJmaWxlIjoiYnVuZGxlcy9wYWdlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cbi8vIG9uIHRoZSBnbG9iYWwgb2JqZWN0ICh3aW5kb3cgb3Igc2VsZilcbi8vXG4vLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5yZXF1aXJlKCd3aGF0d2ctZmV0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanNcbi8vIG1vZHVsZSBpZCA9IDE4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDIiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW5pdFN0b3JlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHdpdGhSZWR1eCBmcm9tICduZXh0LXJlZHV4LXdyYXBwZXInO1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtZmV0Y2gnO1xuaW1wb3J0IE5vU1NSIGZyb20gJ3JlYWN0LW5vLXNzcic7XG5cbmltcG9ydCBDb3VudGVyIGZyb20gJy4uL2NvbXBvbmVudHMvQ291bnRlcic7XG5pbXBvcnQgU3RhciBmcm9tICcuLi9jb21wb25lbnRzL1N0YXInO1xuXG5jbGFzcyBNYWluUGFnZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRpYyBhc3luYyBnZXRJbml0aWFsUHJvcHMgKHsgc3RvcmUsIGlzU2VydmVyIH0pIHtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2RldmVsb3BpdC9wcmVhY3QnKTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICAgIHN0b3JlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhzdG9yZS5nZXRTdGF0ZSgpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBJbW11dGFibGUuZnJvbUpTKHsgXG4gICAgICBpc1NlcnZlciwgXG4gICAgICBjb3VudGVyOiAwLFxuICAgICAgc3RhcnM6IGpzb24uc3RhcmdhemVyc19jb3VudCB8fCAxMixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGxldCB7IGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICB9XG5cbiAgaW5jcmVhc2UoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnSU5DJyxcbiAgICAgIHBheWxvYWQ6IDEsXG4gICAgfSk7XG4gIH1cblxuICBkZWNyZWFzZSgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdJTkMnLFxuICAgICAgcGF5bG9hZDogLTEsXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVDbGljaygpIHtcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlJyk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnSU5DJyxcbiAgICAgIHBheWxvYWQ6IDMsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG5cbiAgICBsZXQgeyBcbiAgICAgIGNvdW50ZXIsXG4gICAgICBpc1NlcnZlcixcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17aXNTZXJ2ZXJ9PlxuICAgICAgICA8ZGl2IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKX0+YWFhYWE8L2Rpdj5cbiAgICAgICAgPE5vU1NSIG9uU1NSPXtudWxsfT5cbiAgICAgICAgICA8Q291bnRlciBcbiAgICAgICAgICBpbmNyZWFzZT17dGhpcy5pbmNyZWFzZS5iaW5kKHRoaXMpfVxuICAgICAgICAgIGRlY3JlYXNlPXt0aGlzLmRlY3JlYXNlLmJpbmQodGhpcyl9XG4gICAgICAgICAgY291bnRlcj17Y291bnRlcn0vPlxuICAgICAgICA8L05vU1NSPlxuXG4gICAgICAgIDxTdGFyIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aFJlZHV4KGluaXRTdG9yZSkoTWFpblBhZ2UpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcGFnZXM/ZW50cnkiLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuXG5jbGFzcyBDb3VudGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICByZW5kZXIgKCkge1xuICAgIGxldCB7IGluY3JlYXNlLCBkZWNyZWFzZSwgY291bnRlciB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm0tY291bnRlclwiPlxuICAgICAgICA8c3BhbiBvbkNsaWNrPXtpbmNyZWFzZX0gY2xhc3NOYW1lPVwiYnRuXCI+ICsgPC9zcGFuPlxuICAgICAgICA8c3Bhbj4ge2NvdW50ZXJ9IDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gb25DbGljaz17ZGVjcmVhc2V9IGNsYXNzTmFtZT1cImJ0blwiPiAtIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoJCRzdGF0ZSwgb3duUHJvcHMpID0+IHtcbiAgcmV0dXJuICQkc3RhdGUuZ2V0KCdjb3VudGVyUmVkdWNlcicpLnRvSlMoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShDb3VudGVyKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvQ291bnRlci5qcyIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLWZldGNoJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgSW1tdXRhYmxlIGZyb20gJ2ltbXV0YWJsZSc7XG5cbmNsYXNzIFN0YXIgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gIGhhbmRsZUNsaWNrKHR5cGUpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdVUERBVEUnLFxuICAgICAgcGF5bG9hZDogMyxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtLXN0YXJcIj5cbiAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyl9PlxuICAgICAgICDngrnmiJFcbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuPk5leHQuanMgaGFzIHt0aGlzLnByb3BzLnN0YXJzfSDirZDvuI88L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKCQkc3RhdGUpID0+IHtcbiAgICByZXR1cm4gJCRzdGF0ZS5nZXQoJ3N0YXJSZWR1Y2VyJykudG9KUygpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKFN0YXIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9TdGFyL2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgRGVmYXVsdE9uU1NSID0gZnVuY3Rpb24gRGVmYXVsdE9uU1NSKCkge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBudWxsKTtcbn07XG5cbnZhciBOb1NTUiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKE5vU1NSLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBOb1NTUigpIHtcbiAgICB2YXIgX09iamVjdCRnZXRQcm90b3R5cGVPO1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgTm9TU1IpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX09iamVjdCRnZXRQcm90b3R5cGVPID0gKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoTm9TU1IpKS5jYWxsLmFwcGx5KF9PYmplY3QkZ2V0UHJvdG90eXBlTywgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjYW5SZW5kZXI6IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShOb1NTUiwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNhblJlbmRlcjogdHJ1ZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcbiAgICAgIHZhciBfcHJvcHMkb25TU1IgPSBfcHJvcHMub25TU1I7XG4gICAgICB2YXIgb25TU1IgPSBfcHJvcHMkb25TU1IgPT09IHVuZGVmaW5lZCA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KERlZmF1bHRPblNTUiwgbnVsbCkgOiBfcHJvcHMkb25TU1I7XG4gICAgICB2YXIgY2FuUmVuZGVyID0gdGhpcy5zdGF0ZS5jYW5SZW5kZXI7XG5cblxuICAgICAgcmV0dXJuIGNhblJlbmRlciA/IGNoaWxkcmVuIDogb25TU1I7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBOb1NTUjtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5vU1NSO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1uby1zc3IvZGlzdC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2luZGV4Jyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LW5vLXNzci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJzb3VyY2VSb290IjoiIn0="}